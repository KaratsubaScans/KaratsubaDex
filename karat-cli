#!/usr/bin/make -f

## config variables
SITE_URL:=https://karatsubascans.com

## no trailing slash in dirs
CONTENT_DIR:=content
RSS_DIR:=feeds
OUT_DIR:=manga
TEMPLATE_DIR:=templates

.PHONY: help init build clean new-manga new-chapter

help:
	@echo 'karat-cli help|build|clean|new-manga|new-chapter'

init:
	@echo "init"

build:
	@for manga in ${CONTENT_DIR}/*; do \
		cat "${manga}"; \
	done

new-manga:
	@if [ -z "${name}" ]; then \
		echo "Missing name field."; \
		exit 1; \
	fi
	@echo "Creating new manga page for '${name}'"
	@# todo, sanitize name first
	@cp "${TEMPLATE_DIR}/mangainfo.template.html" "${OUT_DIR}/${name}.html"

clean:
	@echo "clean"

# $(RSS_DIR)/%.xml:
# 	@echo "feeds"

